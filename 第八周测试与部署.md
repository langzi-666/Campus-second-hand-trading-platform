# 第八周：测试与部署交付物

本周目标：完成功能/兼容/性能/安全测试清单与验收；提供可执行的一键打包预览脚本；输出部署上线指南。

## 一、功能测试清单
- [ ] 用户注册与登录
- [ ] 路由守卫（未登录拦截、已登录访问登录/注册重定向）
- [ ] 个人中心（资料编辑、头像上传、密码修改、统计展示）
- [ ] 商品发布（表单校验、图片上传）
- [ ] 商品列表（分页、关键词、分类筛选、懒加载）
- [ ] 商品详情（图片轮播、卖家信息、联系卖家）
- [ ] 收藏功能（列表与详情可收藏/取消，登录态变化刷新）
- [ ] 评价功能（评分+评论提交与展示）
- [ ] 订单创建与订单列表（基本流程）
- [ ] 消息中心（会话/未读数量/轮询）
- [ ] 通知中心（未读数红点、全部已读）
- [ ] 管理后台（可见性仅管理员、统计页展示）

说明：上述大部分已接入本地 mock 数据，后端未联通时也可验证；与后端联通后按同流程回归。

## 二、兼容性测试（建议）
- 浏览器：Chrome ≥ 90、Edge ≥ 90、Firefox ≥ 90
- 设备：
  - 桌面端：1920×1080、1366×768
  - 移动端：375×812（iPhone X）与 414×896（Plus 尺寸）
- 重点：
  - 响应式布局（首页、列表、详情、登录/注册、个人中心）
  - 图片懒加载与占位（弱网场景）
  - 字体、图标与主色主题一致性（Element Plus）

## 三、性能测试（Lighthouse 建议阈值）
- Performance ≥ 85
- Accessibility ≥ 90
- Best Practices ≥ 90
- SEO ≥ 90

建议流程：
1. 本地构建后执行 `npm run preview` 启动静态预览
2. 用 Chrome 打开预览地址，使用 Lighthouse 进行评估
3. 若首屏偏慢，可逐步引入 Skeleton 骨架屏与按需加载（已预留类名与结构）

## 四、安全测试（前端侧）
- XSS：表单输入框（标题、描述、评论）输入脚本字符，确认页面对文本做安全展示（不执行脚本）
- CSRF：当前为前后端分离 + Bearer Token，不涉及 Cookie 认证；注意接口域跨域策略
- 资源加载：外链图片加载失败时是否回退占位图

## 五、回归路径（建议）
1. 管理员登录（admin/123456）→ 首页 → 管理后台/统计 → 列表 → 详情 → 发布 → 订单 → 消息 → 通知
2. 普通用户登录（student1/123456）→ 首页 → 列表 → 收藏/取消 → 详情评价 → 订单 → 消息 → 个人中心

## 六、部署上线指南（摘要）
详见《部署上线指南.md》。
- 生产构建：前端 `npm run build`，产物在 `frontend/dist/`
- 静态托管：推荐 Netlify/Vercel/静态 Nginx
- 后端代理：使用反向代理将 `/api` 转发到后端服务（示例已给出）

## 七、一键脚本
- `前端打包预览.bat`：一键安装依赖→打包→本地预览

## 八、验收标准
- 测试清单全部通过；
- 预览脚本可执行并打开可访问页面；
- 部署指南可按步骤完成上线（至少一种方案）。
